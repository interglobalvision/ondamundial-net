Site={mobileThreshold:601,init:function(){var _this=this;$(window).resize(function(){_this.onResize()}),$(document).ready(function(){Site.Player.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})}},Site.Player={neverStarted:!0,fadeTime:2e3,statusCheckInterval:5e3,statusUrl:"https://public.radio.co/stations/s0b5e9c02c/status",streamUrl:"http://streaming.radio.co/s0b5e9c02c/listen",streamData:null,init:function(){var _this=this;_this.playerElement=document.getElementById("radio-player"),_this.playerSrc=document.getElementById("player-src"),_this.playerControl=document.getElementById("player-control"),_this.streamStatusText=document.getElementById("stream-status"),_this.nowPlayingText=document.getElementById("now-playing"),_this.checkStreamStatus(!0),setInterval(function(){_this.checkStreamStatus()},_this.statusCheckInterval)},checkStreamStatus:function(forcePlay){var _this=this;$.getJSON(_this.statusUrl,function(data){if(_this.streamData=data.status,"offline"==data.status)_this.streamStatusText.innerHTML="Siguiente: ",_this.nowPlayingText.innerHTML="the upcoming show that has to be requested thru ajax",_this.pause();else if(""===_this.playerSrc.src&&(_this.playerSrc.src=_this.streamUrl,_this.playerElement.load()),_this.streamStatusText.innerHTML="Ahora: ",_this.nowPlayingText.innerHTML=data.current_track.title,_this.playerElement.paused&&(!0===forcePlay||_this.neverStarted))var canplayListener=_this.playerElement.addEventListener("canplay",function(){_this.play(),_this.playerElement.removeEventListener("canplay",canplayListener)})})},play:function(){var _this=this;if(3!==_this.playerElement.networkState){_this.playerElement.volume=0,_this.playerElement.play(),_this.neverStarted=!1;var volumeIncrement=1/(_this.fadeTime/50),fadeInterval=setInterval(function(){_this.playerElement.volume+=volumeIncrement,_this.playerElement.volume>=1-volumeIncrement&&(_this.playerElement.volume=1,clearInterval(fadeInterval))},50)}},pause:function(){this.playerElement.pause()}},Site.init();
//# sourceMappingURL=main.min.js.map
